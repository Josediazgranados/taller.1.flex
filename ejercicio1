//Escaner (Flex)

%{
#include "y.tab.h"
%}

%%
[0-9]+      { yylval = atoi(yytext); return NUMBER; }
"+"         { return ADD; }
"-"         { return SUB; }
"*"         { return MUL; }
"/"         { return DIV; }
"|"         { return ABS; }
\n          { return EOL; }
[ \t]       {}
.           { printf("Token no reconocido: %s\n", yytext); }
%%

//Parser (Bison)

%{
 #include <stdio.h>
 %}
 %token NUMBER
 %token ADD SUB MUL DIV ABS
 %token EOL
 %%
 calclist:
 | calclist exp EOL { printf("= %d\n", $1);}
 ;
 exp: factor
 | exp ADD factor { $$ = $1 + $3;}
 | exp SUB factor { $$ = $1 - $3;}
 ;
 factor: term
 | factor MUL term { $$ = $1 * $3;}
 | factor DIV term { $$ = $1 / $3;}
 ;
 term: NUMBER
 | ABS term { $$ = $2 >= 0? $2 : - $2;}
 ;
 %%
 main(int argc, char **argv)
 {
  yyparse();
 }
 yyerror(char *s)
 {
  fprintf(stderr, "error: %s\n", s);
 }
¿Aceptará la calculadora una línea que contenga solo un comentario? ¿Por qué?
No, porque en el scanner (Flex) no hay ninguna regla para reconocer comentarios.
Si el usuario escribe algo como // comentario o # comentario, el scanner intentará leerlo como tokens válidos y,
al no encontrar coincidencia (excepto por el.), lo enviará como "Token no reconocido".
